<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <link rel="stylesheet" href="./css/booking.css">
    <!-- <script src="./js/loading.js"></script> -->
    <title>Fashion Corner Booking Form</title>

    <style>
        /* CSS styles for loading  */
        #loading-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 9999; /* Ensure overlay is on top */
          visibility: hidden; /* Initially hidden */
        }
    
        #loading-spinner {
          width: 50px;
          height: 50px;
          border: 3px solid #f3f3f3; /* Light gray border */
          border-top: 3px solid #58db34; /* Blue border on top (loading animation) */
          border-radius: 50%; /* Circular shape */
          animation: spin 1s linear infinite; /* Spin animation */
        }
    
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      </style>
      
      <style>
        @font-face {
          font-family: "Mplus 1p Bold";
          src: url("./assets/mplus-1p-bold.ttf");
          font-weight: 700;
        }
      </style>
        

</head>
<body>
    <!-- loading circle -->
    <div id="loading-overlay">
        <div id="loading-spinner"></div>
      </div>

    <div class="container">
        <h1>Booking Form - Fashion Corner</h1>
        <div id="alertBox" class="alert hide"></div>
        <form action="./php/booking2.php" method="post" id="subscribed_form" onsubmit="return validateForm(event)">
            <div class="form-group">
                <label for="item">Select Item:</label>
                <select id="item" name="item" required>
                    <option value="">-- Select Item --</option>
                    <option value="t-shirt">Unisex T-Shirt</option>
                    <option value="hoodie">Unisex Hoodie</option>
                    <option value="jeans">Unisex Jeans</option>
                    <option value="dress">Unisex Dress</option>
                </select>
            </div>
            <div class="form-group">
                <label for="customization">Customization:</label>
                <textarea id="customization" name="customization" placeholder="Describe your customization preferences" required></textarea>
            </div>
            <div class="form-group">
                <label for="name">Your Name:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="phone" required>
            </div>
            <button type="submit">Book Now</button>
        </form>
    </div>
</body>
</html>

<script>
    function validateForm(event) {
        if (!event.target.checkValidity()) {
            return false;
        }
        booked();
        return true;
    }

    function booked() {
        document.getElementById('loading-overlay').style.visibility = 'visible';
        setTimeout(() => {
            document.getElementById('loading-overlay').style.visibility = 'hidden';
            alert('Booking Registered!');
        }, 2000); 
    }
</script>

<script>
    function validateForm(event) {
        if (!event.target.checkValidity()) {
            return false;
        }
        booked();
        return false; // Prevent actual form submission to show the overlay and alert
    }

    function booked() {
        document.getElementById('loading-overlay').style.visibility = 'visible';
        setTimeout(() => {
            document.getElementById('loading-overlay').style.visibility = 'hidden';
            showAlert('Booking Registered!');
            document.getElementById('subscribed_form').submit(); // Submit the form after showing the alert
        }, 2000);
    }

    function showAlert(message) {
        const alertBox = document.getElementById('alertBox');
        alertBox.textContent = message;
        alertBox.classList.remove('hide');
        setTimeout(hideAlert, 3000); // Hide after 3 seconds (adjust as needed)
    }

    function hideAlert() {
        const alertBox = document.getElementById('alertBox');
        alertBox.classList.add('hide');
    }
</script>